/* ===================================================
   YAML Property Manager - Main CSS
   =================================================== */

/* ===========================================
   1. MINIMAL ESSENTIAL SHARED STYLES
   =========================================== */

/* Only keeping absolutely essential shared styles */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Modal normalization - needed to prevent Obsidian overrides */
.modal > .yaml-window {
  padding: 0;
  margin: 0;
  border: none;
  box-shadow: none;
  background: transparent;
}

.modal .modal-close-button {
  z-index: 100;
}

/* ===========================================
   2. PROPERTY MANAGER WINDOW
   =========================================== */

.yaml-window__property-manager .modal {
  padding: 20px 20px 20px 20px; /* top right bottom left */
  width: 300px; /* Set a specific width instead of auto */
  height: auto;
  max-width: 450px; /* Increase from previous 300px to accommodate content */
  max-height: none;
  overflow: visible;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center; /* Center the content horizontally */
}

.modal-container .modal:has(.yaml-window__property-manager) {
  width: fit-content !important; /* Fit to content instead of fixed width */
  max-width: 500px !important; /* Reasonable max-width to prevent it being too wide */
  min-width: 280px !important; /* Ensure it doesn't get too narrow */
  margin: 0 auto !important; /* Center the modal */
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}

.yaml-window__property-manager h2 {
  font-size: var(--h2-size) !important;
  color: var(--h2-color, var(--text-normal)) !important;
  font-weight: var(--h2-weight) !important;
  line-height: var(--h2-line-height) !important;
  margin-bottom: var(--h2-margin-bottom, 20px) !important;
  border-bottom: var(--h2-border-bottom, none) !important;
  text-align: center !important;
}

.yaml-window__property-manager h3 {
  font-size: var(--h3-size) !important;
  color: var(--h3-color, var(--text-normal)) !important;
  font-weight: var(--h3-weight) !important;
  line-height: var(--h3-line-height) !important;
  margin-bottom: var(--h3-margin-bottom, 16px) !important;
}

.yaml-window__property-manager p, 
.yaml-window__property-manager span, 
.yaml-window__property-manager div {
  color: var(--text-normal);
  font-size: var(--font-text-size, 16px);
  line-height: var(--line-height-normal, 1.5);
}

.yaml-window__property-manager .yaml-file-selection__count {
  color: var(--text-muted);
  font-size: var(--font-smaller);
  margin-top: 4px;
  font-style: italic;
}

.yaml-window__property-manager .yaml-button {
  border-radius: var(--button-radius) !important;
  font-size: var(--font-ui-small) !important;
  font-weight: var(--font-normal) !important;
  padding: var(--size-4-1) var(--size-4-3) !important;
  height: var(--input-height) !important;
  background-color: var(--interactive-normal) !important;
  color: var(--text-normal) !important;
  border: 1px solid var(--background-modifier-border) !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  min-width: 120px !important;
  display: block !important;
  width: 100% !important;
  margin: 8px 0 !important;
  text-align: center !important;
  box-shadow: var(--input-shadow) !important;
  box-sizing: border-box !important;
}

.yaml-window__property-manager .yaml-button:hover {
  background-color: var(--interactive-hover) !important;
  box-shadow: var(--input-shadow-hover) !important;
}

.yaml-window__property-manager .yaml-button--disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  background-color: var(--interactive-normal) !important;
  color: var(--text-muted) !important;
}

.yaml-window__property-manager .yaml-button--primary {
  background-color: var(--interactive-normal) !important;
  color: var(--text-normal) !important;
  border-color: var(--background-modifier-border) !important;
}

.yaml-window__property-manager .yaml-button--bulk-edit {
  background-color: var(--interactive-normal) !important;
}

.yaml-window__property-manager .yaml-actions {
  display: flex;
  flex-direction: column;
  gap: 20px;
  width: 100%;
  box-sizing: border-box;
  margin: 8px 0;
}

.yaml-window__property-manager .yaml-action-section {
  padding: 12px 0;
  border-radius: 4px;
  box-sizing: border-box;
  width: 100%;
  max-width: 100%;
  align-self: center;
  margin-left: auto;
  margin-right: auto;
}

.yaml-window__property-manager .yaml-action-section__divider {
  margin: 15px 0 !important;
  border: none;
  border-top: 1px solid var(--background-modifier-border);
}

.yaml-window__property-manager .yaml-file-selection {
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.yaml-window__property-manager .yaml-button--file-selection {
  width: 100%;
  box-sizing: border-box;
}

.yaml-window__property-manager .yaml-button--file-action {
  width: 100%;
}

/* Make buttons have consistent spacing */
.yaml-window__property-manager .yaml-file-selection,
.yaml-window__property-manager .yaml-action-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px !important; /* Set consistent gap between buttons */
  margin-bottom: 15px !important; /* Space after button groups */
}

/* Space between the file selection count and buttons */
.yaml-window__property-manager .yaml-file-selection__count {
  margin-top: 10px !important;
  margin-bottom: 5px !important;
}

/* Remove borders from all buttons*/
.yaml-window__property-manager .yaml-button {
  border: none !important; /* Remove borders */
}

/* ===========================================
   3. SINGLE FILE PROPERTY WINDOW
   =========================================== */

.yaml-window__single-file {
  padding: 20px;
  width: auto;
  max-width: 900px;
  max-height: 85vh;
  overflow-y: auto !important;
  overflow-x: visible;
  margin: 0 auto;
}

.yaml-window__single-file h2 {
  font-size: var(--h2-size) !important;
  color: var(--h2-color, var(--text-normal)) !important;
  font-weight: var(--h2-weight) !important;
  line-height: var(--h2-line-height) !important;
  margin-bottom: var(--h2-margin-bottom, 20px) !important;
  border-bottom: var(--h2-border-bottom, none) !important;
  text-align: left !important;
}

.yaml-window__single-file h3 {
  font-size: var(--h3-size) !important;
  color: var(--h3-color, var(--text-normal)) !important;
  font-weight: var(--h3-weight) !important;
  line-height: var(--h3-line-height) !important;
  margin-bottom: var(--h3-margin-bottom, 16px) !important;
}

.yaml-window__single-file p, 
.yaml-window__single-file span, 
.yaml-window__single-file div {
  color: var(--text-normal);
  font-size: var(--font-text-size, 16px);
  line-height: var(--line-height-normal, 1.5);
}

.yaml-window__single-file .yaml-header {
  display: flex;
  align-items: center;
  margin-bottom: var(--size-4-4, 12px);
  width: 100%;
  box-sizing: border-box;
  border-bottom: var(--divider-width, 1px) solid var(--background-modifier-border);
  padding-bottom: var(--size-4-2, 8px);
}

.yaml-window__single-file .yaml-header__back-button {
  margin-right: 8px;
}

.yaml-window__single-file .yaml-header__title {
  margin: 0;
  font-size: var(--font-ui-medium);
  font-weight: var(--font-medium);
  color: var(--h4-color, var(--text-normal));
}

.yaml-window__single-file .yaml-property-container {
  width: 100%;
  margin: 12px 0;
  max-height: 400px;
  overflow-y: auto;
  overflow-x: hidden;
  border-radius: 4px;
  padding: 8px;
  box-sizing: border-box;
}

.yaml-window__single-file .yaml-property-list {
  display: block;
  width: 100%;
  min-width: 700px;
}

.yaml-window__single-file .yaml-property-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  flex-wrap: nowrap;
  margin-bottom: 8px;
  padding: 4px 0;
  min-width: 700px;
}

.yaml-window__single-file .yaml-property-item--header {
  font-weight: bold;
  border-bottom: 1px solid var(--background-modifier-border);
  margin-bottom: 8px;
  padding-bottom: 8px;
}

.yaml-window__single-file .yaml-property-item__name {
  flex: 1;
  min-width: 100px;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.yaml-window__single-file .yaml-property-item__type {
  width: 120px;
  flex-shrink: 0;
}

.yaml-window__single-file .yaml-property-item__value {
  flex: 2;
  min-width: 150px !important;
  max-width: none !important;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: break-word;
}

.yaml-window__single-file .yaml-property-item__actions {
  width: 60px;
  flex-shrink: 0;
  text-align: center;
  display: flex;
  justify-content: center;
  gap: 4px;
}

.yaml-window__single-file .yaml-button {
  border-radius: var(--button-radius) !important;
  font-size: var(--font-ui-small) !important;
  font-weight: var(--font-normal) !important;
  padding: var(--size-4-1) var(--size-4-3) !important;
  height: var(--input-height) !important;
  background-color: var(--interactive-normal) !important;
  color: var(--text-normal) !important;
  border: 1px solid var(--background-modifier-border) !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  min-width: 120px !important;
  display: block !important;
  width: 100% !important;
  margin: 8px 0 !important;
  text-align: center !important;
  box-shadow: var(--input-shadow) !important;
}

.yaml-window__single-file .yaml-button:hover {
  background-color: var(--interactive-hover) !important;
  box-shadow: var(--input-shadow-hover) !important;
}

.yaml-window__single-file .yaml-button--add-property {
  width: 100%;
}

.yaml-window__single-file .yaml-button--move-up, 
.yaml-window__single-file .yaml-button--move-down {
  padding: 2px !important;
  min-width: auto !important;
  height: auto !important;
}

.yaml-window__single-file .yaml-button--delete-item {
  padding: 2px 5px !important;
  min-width: auto !important;
  height: auto !important;
}

.yaml-window__single-file .yaml-button--save {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
}

.yaml-window__single-file .yaml-button-container {
  margin-top: 20px !important;
  padding: 8px 0 !important;
  display: flex !important;
  justify-content: center !important;
  gap: 8px !important;
  width: 100% !important;
}

.yaml-window__single-file .yaml-button-container--sticky {
  position: sticky !important;
  bottom: 0 !important;
  background: var(--background-primary) !important;
  padding: 12px 0 !important;
  border-top: 1px solid var(--background-modifier-border) !important;
  z-index: 10 !important;
  box-shadow: 0 -5px 10px rgba(0, 0, 0, 0.1);
  margin-bottom: 0;
}

.yaml-window__single-file .yaml-button-container button {
  width: auto !important;
  min-width: 120px !important;
}

.yaml-window__single-file .yaml-new-property__buttons {
  display: flex;
  gap: 4px;
}

.yaml-window__single-file .yaml-new-property__name {
  flex: 1;
  min-width: 100px;
}

.yaml-window__single-file .yaml-new-property__type {
  width: 120px;
  flex-shrink: 0;
}

.yaml-window__single-file .yaml-new-property__value {
  flex: 2;
  min-width: 150px;
}

.yaml-window__single-file .yaml-button--add {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
}

/* ===========================================
   4. TEMPLATE SELECTION WINDOW
   =========================================== */

/* Base container styles */
.yaml-content .yaml-window__template-selection .modal {
  padding: 20px;
  width: auto;
  min-width: 600px;
  max-width: 1200px;
  max-height: 85vh;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0 auto;
  position: relative;
}

.modal-container .modal:has(.yaml-window__template-selection) {
  width: fit-content !important;
  margin: 0 auto !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}

/* ------------------------------------
   Typography & Headers
   ------------------------------------ */
/* Main header styling */
.yaml-window__template-selection h2 {
  font-size: var(--h2-size) !important;
  color: var(--h2-color, var(--text-normal)) !important;
  font-weight: var(--h2-weight) !important;
  line-height: var(--h2-line-height) !important;
  margin-bottom: var(--h2-margin-bottom, 20px) !important;
  border-bottom: var(--h2-border-bottom, 1px solid var(--background-modifier-border)) !important;
  text-align: left !important;
  padding-bottom: 8px !important;
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Properties section header styling */
.yaml-window__template-selection .yaml-properties-section-header {
  font-size: var(--h2-size) !important;
  color: var(--h2-color, var(--text-normal)) !important;
  font-weight: var(--h2-weight) !important;
  line-height: var(--h2-line-height) !important;
  margin-top: 30px !important;
  margin-bottom: 16px !important;
  border-bottom: 1px solid var(--background-modifier-border) !important;
  padding-bottom: 6px !important;
  text-align: left !important;
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Template info header styling */
.yaml-window__template-selection .yaml-direct-template-header {
  font-size: var(--h3-size) !important;
  color: var(--h3-color, var(--text-normal)) !important;
  font-weight: var(--h3-weight) !important;
  line-height: var(--h3-line-height) !important;
  margin-top: 20px !important;
  margin-bottom: 10px !important;
  padding-bottom: 4px !important;
  text-align: left !important;
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Options header styling */
.yaml-window__template-selection .yaml-options-header {
  font-size: var(--h4-size, var(--font-ui-medium)) !important;
  color: var(--h4-color, var(--text-normal)) !important;
  font-weight: var(--h4-weight, var(--font-medium)) !important;
  line-height: var(--h4-line-height, 1.4) !important;
  margin-top: 14px !important;
  margin-bottom: 8px !important;
  padding-left: 0 !important;
}

/* General text styling */
.yaml-window__template-selection p, 
.yaml-window__template-selection span, 
.yaml-window__template-selection div {
  color: var(--text-normal);
  font-size: var(--font-text-size, 16px);
  line-height: var(--line-height-normal, 1.5);
}

/* Hint text styling */
.yaml-window__template-selection .yaml-hint-text {
  color: var(--text-faint);
  font-size: var(--font-ui-smaller);
  margin: 4px 0 12px 2px;
  font-style: italic;
  line-height: 1.4;
}

/* ------------------------------------
   Path & Template Info Containers
   ------------------------------------ */
/* Template path container */
.yaml-window__template-selection .yaml-direct-path-container {
  min-width: 500px;
  max-width: 100%;
  padding: 10px;
  margin-bottom: 16px;
  background-color: var(--background-secondary-alt);
  border-radius: 4px;
  overflow-x: auto;
  white-space: nowrap;
  box-shadow: var(--input-shadow);
  margin-left: 0 !important;
  padding-left: 10px !important;
}

/* Template path text */
.yaml-window__template-selection .yaml-direct-path-text {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

/* Style for preserve info container */
.yaml-window__template-selection .yaml-preserve-info-container {
  color: var(--text-muted);
}

/* ------------------------------------
   Search Functionality
   ------------------------------------ */
/* Search container */
.yaml-window__template-selection .yaml-search-container {
  margin-bottom: 16px;
  width: 100%;
  position: relative;
}

/* Search input */
.yaml-window__template-selection .search-input {
  width: 100%;
  height: var(--input-height);
  border-radius: 4px !important;
  padding: 6px 30px;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
  border: none !important;
  background-color: var(--background-secondary-alt) !important;
  transition: box-shadow 0.15s ease, border-color 0.15s ease;
  box-shadow: var(--input-shadow) !important;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='16' height='16' stroke='currentColor' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round' class='css-i6dzq1'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 7px center;
}

.yaml-window__template-selection .search-input:focus {
  outline: none;
  border: none !important;
  box-shadow: var(--input-shadow-hover) !important;
  background-color: var(--background-secondary-alt) !important;
}

/* ------------------------------------
   Template Results Display
   ------------------------------------ */
/* Template results container */
.yaml-window__template-selection .yaml-template-results {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  margin-bottom: 20px;
  background-color: var(--background-primary);
  width: fit-content;
  min-width: 300px;
  max-width: 100%;
}

/* Template list */
.yaml-window__template-selection .yaml-template-list {
  padding: 4px;
}

/* Template items */
.yaml-window__template-selection .yaml-template-item {
  display: flex;
  align-items: center;
  padding: 6px 8px;
  margin-bottom: 2px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 100ms ease-in-out;
  width: 100%;
  min-width: 300px;
}

.yaml-window__template-selection .yaml-template-item:hover {
  background-color: var(--background-modifier-hover);
}

/* Radio button */
.yaml-window__template-selection .yaml-template-radio {
  margin-right: 8px;
  flex-shrink: 0;
}

/* File icon */
.yaml-window__template-selection .yaml-template-icon {
  margin-right: 6px;
  flex-shrink: 0;
}

/* Template info container */
.yaml-window__template-selection .yaml-template-info {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* File name styling */
.yaml-window__template-selection .yaml-template-name {
  font-weight: normal;
  color: var(--text-normal);
  margin-bottom: 3px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* File path styling */
.yaml-window__template-selection .yaml-template-path {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  line-height: 1;
  margin-left: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* No templates message */
.yaml-window__template-selection .yaml-message--no-templates {
  color: var(--text-muted);
  font-style: italic;
  text-align: center;
  padding: 20px;
}

/* Loading indicator */
.yaml-window__template-selection .yaml-templates-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  width: 100%;
}

.yaml-window__template-selection .yaml-spinner {
  width: 30px;
  height: 30px;
  border: 3px solid var(--background-modifier-border);
  border-top: 3px solid var(--interactive-accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* ------------------------------------
   Property List & Properties
   ------------------------------------ */
/* Properties list container */
.yaml-window__template-selection .yaml-properties-list {
  width: 100%;
  margin: 16px 0;
}

/* Property item styling */
.yaml-window__template-selection .yaml-property-item {
  display: flex;
  flex-direction: column;
  min-width: 500px;
  max-width: 100%;
  margin-bottom: 16px;
  padding: 16px;
  background-color: var(--background-secondary-alt);
  border-radius: 4px;
  box-shadow: var(--input-shadow);
}

/* Property name header with checkbox */
.yaml-window__template-selection .yaml-property-header {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  width: 100%;
}

/* Property include checkbox */
.yaml-window__template-selection .yaml-property-item__include input[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--checkbox-border-color, var(--text-muted));
  border-radius: 3px !important;
  background-color: var(--background-primary);
  margin-right: 8px;
  cursor: pointer;
  position: relative;
  vertical-align: middle;
  transition: background-color 0.15s ease;
}

/* Checkbox checked state */
.yaml-window__template-selection .yaml-property-item__include input[type="checkbox"]:checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Checkmark styling */
.yaml-window__template-selection .yaml-property-item__include input[type="checkbox"]:checked::after {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 14px !important;
  font-weight: 900 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
}

/* Bold property name */
.yaml-window__template-selection .yaml-property-name {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
}

/* Value container styling */
.yaml-window__template-selection .yaml-property-value-box {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 8px 10px;
  margin-bottom: 8px;
  background-color: var(--background-primary);
  border-radius: 4px;
  box-shadow: var(--input-shadow);
}

/* Type container styling */
.yaml-window__template-selection .yaml-property-type-box {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 8px 10px;
  background-color: var(--background-primary);
  border-radius: 4px;
  box-shadow: var(--input-shadow);
  margin-bottom: 8px;
}

/* Type info container */
.yaml-window__template-selection .yaml-property-type-info {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
}

/* Type text */
.yaml-window__template-selection .yaml-property-type-text {
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
}

/* Value preserve checkbox styling */
.yaml-window__template-selection .yaml-property-preserve-checkbox {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--checkbox-border-color, var(--text-muted));
  border-radius: 3px !important;
  background-color: var(--background-primary);
  margin-right: 8px;
  cursor: pointer;
  position: relative;
  vertical-align: middle;
  transition: background-color 0.15s ease;
  align-self: center;
  margin-top: 0;
  margin-bottom: 0;
}

.yaml-window__template-selection .yaml-property-preserve-checkbox:checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

.yaml-window__template-selection .yaml-property-preserve-checkbox:checked::after {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 14px !important;
  font-weight: 900 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
}

/* Value text */
.yaml-window__template-selection .yaml-property-value-text {
  flex: 1;
  word-break: break-word;
  max-width: 100%;
}

.yaml-window__template-selection .yaml-property-empty-value {
  flex: 1;
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
  font-weight: 600;
}

/* ------------------------------------
   Array Property Styling
   ------------------------------------ */
/* Array count display */
.yaml-window__template-selection .yaml-property-array-count {
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
}

/* Toggle button for arrays */
.yaml-window__template-selection .yaml-property-toggle-button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 12px;
  color: var(--text-muted);
  padding: 2px 6px;
  border-radius: 3px;
  transition: background-color 0.15s ease;
}

.yaml-window__template-selection .yaml-property-toggle-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Array items container */
.yaml-window__template-selection .yaml-property-array-items {
  flex: 1;
  margin-left: 8px;
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 4px;
  max-height: 100px;
  overflow-y: auto;
}

.yaml-window__template-selection .yaml-property-item--expanded .yaml-property-array-items {
  max-height: 300px;
}

/* Individual array items */
.yaml-window__template-selection .yaml-property-array-item {
  padding: 4px 8px;
  background-color: var(--background-secondary-alt);
  border-radius: 3px;
  font-size: var(--font-ui-smaller);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Hide expanded items by default */
.yaml-window__template-selection .yaml-property-array-item--expanded {
  display: none;
}

/* Show expanded items when container is expanded */
.yaml-window__template-selection .yaml-property-item--expanded .yaml-property-array-item--expanded {
  display: block;
}

/* ------------------------------------
   Selection & Option Controls
   ------------------------------------ */
/* Select all and override options */
.yaml-window__template-selection .yaml-select-all {
  display: flex;
  align-items: center;
  margin-bottom: 2px;
  padding: 8px 10px;
  background-color: var(--background-secondary-alt);
  border-radius: 4px;
  width: fit-content;
  min-width: 500px;
  max-width: 100%;
  transition: all 0.2s ease;
}

/* Checkbox styling for select-all options */
.yaml-window__template-selection .yaml-select-all input[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--checkbox-border-color, var(--text-muted));
  border-radius: 3px !important;
  background-color: var(--background-primary);
  margin-right: 8px;
  cursor: pointer;
  position: relative;
  vertical-align: middle;
  transition: background-color 0.15s ease;
}

/* Checkbox checked state */
.yaml-window__template-selection .yaml-select-all input[type="checkbox"]:checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Checkmark styling */
.yaml-window__template-selection .yaml-select-all input[type="checkbox"]:checked::after {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 14px !important;
  font-weight: 900 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
}

/* Disabled checkbox styling */
.yaml-window__template-selection .yaml-select-all--disabled input[type="checkbox"] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Disabled state for secondary options */
.yaml-window__template-selection .yaml-select-all--disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.yaml-window__template-selection .yaml-select-all--secondary {
  margin-left: 0px;
  padding-left: 10px;
  background-color: var(--background-primary);
  margin-top: -2px;
  margin-bottom: 4px;
}

.yaml-window__template-selection .yaml-select-all__checkbox {
  margin-right: 8px;
  cursor: pointer;
}

.yaml-window__template-selection .yaml-select-all label {
  cursor: pointer;
}

/* Hidden secondary options */
.yaml-window__template-selection .yaml-select-all--hidden {
  display: none !important;
}

/* Active/selected secondary option */
.yaml-window__template-selection .yaml-select-all--secondary.active {
  background-color: rgba(var(--interactive-accent-rgb), 0.1);
}

/* ------------------------------------
   Positioning Options
   ------------------------------------ */
/* Positioning options container */
.yaml-window__template-selection .yaml-positioning-options {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-bottom: 16px;
  margin-top: 8px;
}

/* Style for position options to match select-all */
.yaml-window__template-selection .yaml-position-option {
  display: flex;
  align-items: center;
  margin-bottom: 2px;
  padding: 8px 10px;
  background-color: var(--background-secondary-alt);
  border-radius: 4px;
  width: fit-content;
  min-width: 500px;
  max-width: 100%;
  transition: all 0.2s ease;
}

/* Style radio to look like checkbox */
.yaml-window__template-selection .yaml-position-option input[type="radio"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--checkbox-border-color, var(--text-muted));
  border-radius: 3px !important;
  background-color: var(--background-primary);
  margin-right: 8px;
  cursor: pointer;
  position: relative;
  vertical-align: middle;
  transition: background-color 0.15s ease;
}

/* Checked state for the radio buttons to look like checkboxes */
.yaml-window__template-selection .yaml-position-option input[type="radio"]:checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Consistent radio button checkmark styling for positioning options */
.yaml-window__template-selection .yaml-position-option input[type="radio"]:checked::after {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 14px !important;
  font-weight: 900 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
  background-color: var(--checkbox-marker-color);
  mask-position: 52% 52%;
  mask-size: 65%;
  mask-repeat: no-repeat;
  mask-image: url('data:image/svg+xml; utf8, <svg width="12px" height="10px" viewBox="0 0 12 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-4.000000, -6.000000)" fill="%23000000"><path d="M8.1043257,14.0367999 L4.52468714,10.5420499 C4.32525014,10.3497722 4.32525014,10.0368095 4.52468714,9.8424863 L5.24777413,9.1439454 C5.44721114,8.95166768 5.77142411,8.95166768 5.97086112,9.1439454 L8.46638057,11.5903727 L14.0291389,6.1442083 C14.2285759,5.95193057 14.5527889,5.95193057 14.7522259,6.1442083 L15.4753129,6.84377194 C15.6747499,7.03604967 15.6747499,7.35003511 15.4753129,7.54129009 L8.82741268,14.0367999 C8.62797568,14.2290777 8.3037627,14.2290777 8.1043257,14.0367999"></path></g></g></svg>');
  -webkit-mask-position: 52% 52%;
  -webkit-mask-size: 65%;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-image: url('data:image/svg+xml; utf8, <svg width="12px" height="10px" viewBox="0 0 12 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-4.000000, -6.000000)" fill="%23000000"><path d="M8.1043257,14.0367999 L4.52468714,10.5420499 C4.32525014,10.3497722 4.32525014,10.0368095 4.52468714,9.8424863 L5.24777413,9.1439454 C5.44721114,8.95166768 5.77142411,8.95166768 5.97086112,9.1439454 L8.46638057,11.5903727 L14.0291389,6.1442083 C14.2285759,5.95193057 14.5527889,5.95193057 14.7522259,6.1442083 L15.4753129,6.84377194 C15.6747499,7.03604967 15.6747499,7.35003511 15.4753129,7.54129009 L8.82741268,14.0367999 C8.62797568,14.2290777 8.3037627,14.2290777 8.1043257,14.0367999"></path></g></g></svg>');
}

/* Position option label styling */
.yaml-window__template-selection .yaml-position-option label {
  cursor: pointer;
}

/* ------------------------------------
   Buttons & Actions
   ------------------------------------ */
/* Buttons container */
.yaml-window__template-selection .yaml-button-container {
  margin-top: 20px !important;
  padding: 8px 0 !important;
  display: flex !important;
  justify-content: flex-end !important;
  gap: 8px !important;
  width: 100% !important;
}

/* Sticky button container */
.modal .yaml-window__template-selection .yaml-button-container--sticky {
  position: sticky !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  background: var(--background-primary) !important;
  padding: 12px 20px !important;
  border-top: 1px solid var(--background-modifier-border) !important;
  z-index: 10 !important;
  box-shadow: 0 -5px 10px rgba(0, 0, 0, 0.1) !important;
}

/* Buttons */
.yaml-window__template-selection .yaml-button {
  border-radius: var(--button-radius) !important;
  font-size: var(--font-ui-small) !important;
  font-weight: var(--font-normal) !important;
  padding: var(--size-4-1) var(--size-4-3) !important;
  height: var(--input-height) !important;
  background-color: var(--interactive-normal) !important;
  color: var(--text-normal) !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  min-width: 120px !important;
  text-align: center !important;
  box-shadow: var(--input-shadow) !important;
}

.yaml-window__template-selection .yaml-button:hover {
  background-color: var(--interactive-hover) !important;
  box-shadow: var(--input-shadow-hover) !important;
}

.yaml-window__template-selection .yaml-button--apply {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
}

.yaml-window__template-selection .yaml-button--apply:hover {
  background-color: var(--interactive-accent-hover) !important;
}

/* Disabled button */
.yaml-window__template-selection .yaml-button--disabled {
  cursor: not-allowed !important;
}

.yaml-window__template-selection .yaml-button-container button {
  width: auto !important;
  min-width: 120px !important;
}

/* ------------------------------------
   Validation & Helper Elements
   ------------------------------------ */
/* Validation message styling */
.yaml-window__template-selection .yaml-validation-message {
  background-color: rgba(var(--color-red-rgb), 0.1) !important;
  color: var(--text-error) !important;
  padding: 10px 12px !important;
  margin: 15px 0 !important;
  border-radius: 4px !important;
  font-size: var(--font-ui-medium) !important;
  display: flex !important;
  align-items: center !important;
  width: auto !important;
  min-width: 280px !important;
  max-width: 100% !important;
  border-left: 3px solid var(--text-error) !important;
  box-shadow: var(--input-shadow) !important;
}

.yaml-window__template-selection .yaml-validation-icon {
  margin-right: 10px !important;
  flex-shrink: 0 !important;
  font-size: 18px !important;
}

/* Animation for the validation message */
@keyframes validationFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.yaml-window__template-selection .yaml-validation-message {
  animation: validationFadeIn 0.3s ease-in-out !important;
}

/* Hidden validation message */
.yaml-window__template-selection .yaml-validation-message--hidden {
  display: none !important;
}

/* Hidden class for elements */
.yaml-window__template-selection .yaml-element--hidden {
  display: none !important;
}

/* ===========================================
   5. BATCH FILE SELECTOR WINDOW
   =========================================== */

/* Base container styles */
.yaml-window__batch-selector {
  padding: 20px;
  width: auto;
  max-width: 600px;
  max-height: 85vh;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
}

.modal-container .modal:has(.yaml-window__batch-selector) {
  width: fit-content !important;
  max-width: 650px !important; /* Slightly larger to accommodate the batch selector */
  min-width: 300px !important;
  margin: 0 auto !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}

/* Typography */
.yaml-window__batch-selector h2 {
  font-size: var(--h2-size) !important;
  color: var(--text-normal) !important;
  font-weight: var(--font-medium) !important;
  line-height: var(--line-height-normal) !important;
  margin-top: 0 !important;
  margin-bottom: 18px !important;
  padding-bottom: 6px !important;
  border-bottom: 1px solid var(--background-modifier-border) !important;
}

.yaml-window__batch-selector p {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  margin-bottom: 16px;
}

/* File tree container */
.yaml-window__batch-selector .yaml-file-tree {
  margin: 12px 0;
  max-height: 400px;
  min-height: 300px;
  overflow-y: auto !important;
  overflow-x: hidden;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-sizing: border-box;
  width: 100%;
  background-color: transparent;
}

/* Remove any purple lines & default styles */
.yaml-window__batch-selector .yaml-file-tree *:before {
  display: none !important;
}

/* File and folder items - base containers */
.yaml-window__batch-selector .yaml-file-item,
.yaml-window__batch-selector .yaml-folder-item {
  display: flex;
  flex-direction: column;
  margin: 0;
  padding: 0;
  background-color: transparent;
  border: none;
}

/* File tree header - the row with checkbox, icon, name */
.yaml-window__batch-selector .yaml-file-tree-header {
  display: flex;
  align-items: center;
  padding: 3px 6px;
  border-radius: 4px;
  margin: 1px 0;
  transition: background-color 100ms ease-in-out;
  width: 100%;
  min-height: 24px;
}

.yaml-window__batch-selector .yaml-file-tree-header:hover {
  background-color: var(--background-modifier-hover);
}

/* Custom checkbox container */
.yaml-window__batch-selector .yaml-custom-checkbox-container {
  display: inline-flex;
  align-items: center;
  margin-right: 6px;
}

/* Custom checkbox element */
.yaml-window__batch-selector .yaml-custom-checkbox {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  background-color: var(--background-primary);
  border: 1px solid var(--checkbox-border-color, var(--text-muted));
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  flex-shrink: 0;
}

/* Checked state styling */
.yaml-window__batch-selector .yaml-custom-checkbox.is-checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Checkmark inside checkbox */
.yaml-window__batch-selector .yaml-checkbox-checkmark {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
  opacity: 0; /* Hidden by default */
  transition: opacity 0.1s ease;
}

/* Make checkmark visible when checkbox is checked */
.yaml-window__batch-selector .yaml-custom-checkbox.is-checked .yaml-checkbox-checkmark,
.yaml-window__batch-selector .yaml-checkbox-checkmark.yaml-checkbox-checkmark--visible {
  opacity: 1; /* Visible when checkbox is checked */
}

/* Alternative approach to ensure checkmark appears */
.yaml-window__batch-selector .yaml-custom-checkbox.is-checked::after {
  content: "✓" !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  line-height: 1 !important;
}

/* Disabled checkboxes */
.yaml-window__batch-selector .yaml-custom-checkbox.yaml-custom-checkbox--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* File and folder icons */
.yaml-window__batch-selector .yaml-file-icon, 
.yaml-window__batch-selector .yaml-folder-icon {
  margin-right: 6px;
  width: 16px;
  text-align: center;
  color: var(--text-normal);
  font-size: 14px;
  flex-shrink: 0;
}

/* File and folder names */
.yaml-window__batch-selector .yaml-file-name, 
.yaml-window__batch-selector .yaml-folder-name {
  flex: 1;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Folder children container */
.yaml-window__batch-selector .yaml-folder-children {
  margin-left: 20px;
  border-left: 1px solid var(--background-modifier-border-hover);
  padding-left: 4px;
  margin-top: 2px;
  margin-bottom: 2px;
  display: flex;
  flex-direction: column;
}

/* Collapsed state for folder children */
.yaml-window__batch-selector .yaml-folder-children--collapsed {
  display: none;
}

/* Selected count indicator */
.yaml-window__batch-selector .yaml-selected-count {
  margin: 10px 0;
  font-style: italic;
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
}

/* Button container */
.yaml-window__batch-selector .yaml-button-container {
  margin-top: 20px !important;
  padding: 8px 0 !important;
  display: flex !important;
  justify-content: flex-end !important;
  gap: 8px !important;
  width: 100% !important;
  border-top: 1px solid var(--background-modifier-border) !important;
  padding-top: 12px !important;
}

/* Standard buttons */
.yaml-window__batch-selector .yaml-button {
  /* Core styles handled by the new general button styles above */
  min-width: 120px;
  text-align: center;
  margin: 0 4px;
}

/* Primary button */
.yaml-window__batch-selector .yaml-button--confirm {
  /* Add the Obsidian CTA class */
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* Reset and apply exact Obsidian button styling */
.yaml-window__batch-selector button {
  /* Basic button styles */
  cursor: pointer;
  border-radius: var(--button-radius);
  font-size: var(--font-ui-small);
  padding: var(--size-4-1) var(--size-4-3);
  height: var(--input-height);
  font-weight: var(--font-normal);
  
  /* Backgrounds and borders */
  background-color: var(--interactive-normal);
  color: var(--text-normal);
  box-shadow: var(--input-shadow);
  
  /* Fix any overrides */
  min-width: auto;
  transition: background-color 0.1s ease-in, box-shadow 0.1s ease-in;
}

/* Primary button style */
.yaml-window__batch-selector button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* Hover states */
.yaml-window__batch-selector button:hover {
  background-color: var(--interactive-hover);
  box-shadow: var(--input-shadow-hover);
}

.yaml-window__batch-selector button.mod-cta:hover {
  background-color: var(--interactive-hover);
  border-color: var(--interactive-hover);
}

/* Disabled button style */
.yaml-window__batch-selector button:disabled,
.yaml-window__batch-selector button.yaml-button--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ===========================================
   6. FILE SELECTOR MODAL 
   =========================================== */

.yaml-window__file-selector {
  padding: 20px;
  width: auto;
  max-width: 600px;
  max-height: 85vh;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0 auto;
}

.yaml-window__file-selector h2 {
  font-size: var(--h2-size) !important;
  color: var(--text-normal) !important;
  font-weight: var(--font-medium) !important;
  line-height: var(--line-height-normal) !important;
  margin-top: 0 !important;
  margin-bottom: 18px !important;
  padding-bottom: 6px !important;
  border-bottom: 1px solid var(--background-modifier-border) !important;
}

.yaml-window__file-selector p {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  margin-bottom: 16px;
}

.yaml-window__file-selector .yaml-file-tree {
  margin: 12px 0;
  max-height: 400px;
  min-height: 300px;
  overflow-y: auto !important;
  overflow-x: hidden;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-sizing: border-box;
  width: 100%;
}

.yaml-window__file-selector .yaml-file-item,
.yaml-window__file-selector .yaml-folder-item,
.yaml-window__file-selector .yaml-file-item.already-selected,
.yaml-window__file-selector .yaml-folder-item.already-selected,
.yaml-window__file-selector .yaml-file-tree-header.already-in-templates {
  background-color: transparent;
  border-left: none;
  border: none;
  margin: 0;
  padding: 0;
}

.yaml-window__file-selector .yaml-file-item:before,
.yaml-window__file-selector .yaml-folder-item:before,
.yaml-window__file-selector .yaml-file-tree-header:before,
.yaml-window__file-selector .yaml-file-tree *:before {
  display: none !important;
}

.yaml-window__file-selector .yaml-file-tree-header {
  display: flex;
  align-items: center;
  padding: 4px 6px !important;
  border-radius: 4px !important;
  margin: 1px 0 !important;
  transition: background-color 100ms ease-in-out !important;
  width: 100%;
  border: none;
  background: transparent;
}

.yaml-window__file-selector .yaml-file-tree-header:hover {
  background-color: var(--background-modifier-hover) !important;
}

.yaml-window__file-selector .yaml-file-item, 
.yaml-window__file-selector .yaml-folder-item {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  position: relative;
}

.yaml-window__file-selector .yaml-file-icon, 
.yaml-window__file-selector .yaml-folder-icon {
  margin-right: 4px;
  width: 16px;
  text-align: center;
  color: var(--text-muted);
}

.yaml-window__file-selector .yaml-file-name, 
.yaml-window__file-selector .yaml-folder-name {
  flex: 1;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

.yaml-window__file-selector .yaml-folder-children {
  margin-left: 16px !important;
  border-left: 1px solid var(--background-modifier-border-hover) !important;
  padding-left: 4px !important;
  margin-top: 2px !important;
  margin-bottom: 2px !important;
}

.yaml-window__file-selector .yaml-folder-children--collapsed {
  display: none;
}

.yaml-window__file-selector .yaml-button {
  border-radius: var(--button-radius) !important;
  font-size: var(--font-ui-small) !important;
  font-weight: var(--font-normal) !important;
  padding: var(--size-4-1) var(--size-4-3) !important;
  height: var(--input-height) !important;
  background-color: var(--interactive-normal) !important;
  color: var(--text-normal) !important;
  border: 1px solid var(--background-modifier-border) !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  min-width: 120px !important;
  display: block !important;
  width: 100% !important;
  margin: 8px 0 !important;
  text-align: center !important;
  box-shadow: var(--input-shadow) !important;
}

.yaml-window__file-selector .yaml-button:hover {
  background-color: var(--interactive-hover) !important;
  box-shadow: var(--input-shadow-hover) !important;
}

.yaml-window__file-selector .yaml-button-container {
  margin-top: 20px !important;
  padding: 8px 0 !important;
  display: flex !important;
  justify-content: center !important;
  gap: 8px !important;
  width: 100% !important;
}

.yaml-window__file-selector .yaml-button-container button {
  width: auto !important;
  min-width: 120px !important;
}

/* ===========================================
   7. BULK PROPERTY EDITOR WINDOW
   =========================================== */
/* No custom styling - using standard modal */

/* ===========================================
   8. SETTINGS TAB
   =========================================== */

.yaml-settings-tab {
  padding: 0 20px;
}

.yaml-settings-tab h2 {
  font-size: var(--h2-size) !important;
  color: var(--h2-color, var(--text-normal)) !important;
  font-weight: var(--h2-weight) !important;
  margin-top: var(--h2-margin-top, 40px) !important;
  margin-bottom: var(--h2-margin-bottom, 20px) !important;
  border-bottom: var(--h2-border-bottom, 1px solid var(--background-modifier-border)) !important;
  padding-bottom: var(--size-4-2, 8px) !important;
}

.yaml-settings-tab h3 {
  font-size: var(--h3-size) !important;
  color: var(--h3-color, var(--text-normal)) !important;
  font-weight: var(--h3-weight) !important;
  margin-top: var(--h3-margin-top, 30px) !important;
  margin-bottom: var(--h3-margin-bottom, 16px) !important;
}

.yaml-template-paths {
  margin-bottom: 20px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  max-height: 300px;
  overflow-y: auto;
}

.yaml-settings-description {
  color: var(--text-muted);
  font-style: italic;
}

.yaml-template-node {
  margin-bottom: 2px;
}

.yaml-template-node__header {
  display: flex;
  align-items: center;
  padding: 4px 0;
  border-radius: 4px;
  transition: all 0.1s ease;
}

.yaml-template-node__header:hover {
  background-color: var(--background-modifier-hover);
}

.yaml-template-node__header--folder {
  cursor: pointer;
}

.yaml-template-node__icon {
  margin-right: 4px;
}

.yaml-template-node__name {
  flex: 1;
}

.yaml-template-node__actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  margin-left: 8px;
}

.yaml-template-node__actions button {
  margin: 0 !important;
  padding: 4px 8px !important;
  min-width: auto !important;
  height: auto !important;
}

.yaml-template-node__children {
  margin-left: 12px;
}

.yaml-template-node__children--collapsed {
  display: none;
}

/* ===========================================
   9. RESPONSIVE STYLES
   =========================================== */

@media screen and (max-width: 768px) {
  .yaml-window {
    width: 95%;
    padding: 12px;
    min-width: auto;
  }

  .yaml-property-item {
    flex-direction: column;
    align-items: flex-start;
  }

  .yaml-property-item__name, 
  .yaml-property-item__type, 
  .yaml-property-item__value, 
  .yaml-property-item__actions {
    width: 100%;
    max-width: 100%;
  }

  .yaml-actions {
    flex-direction: column;
  }

  .yaml-new-property {
    flex-direction: column;
    align-items: flex-start;
  }

  .yaml-new-property__name, 
  .yaml-new-property__type, 
  .yaml-new-property__value {
    width: 100%;
    margin-bottom: 4px;
  }
}

@media screen and (max-width: 650px) {
  .yaml-window__property-manager {
    min-width: auto;
    width: 95%;
    padding: 12px;
  }
}

/* ===========================================
   10. TEMPLATE FILE SELECTOR MODAL
   =========================================== */

/* Base container styles */
.yaml-template-file-selector {
  padding: 20px;
  width: auto;
  max-width: 600px;
  max-height: 85vh;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0 auto;
}

/* Typography */
.yaml-template-file-selector h2 {
  font-size: var(--h2-size) !important;
  color: var(--text-normal) !important;
  font-weight: var(--font-medium) !important;
  line-height: var(--line-height-normal) !important;
  margin-top: 0 !important;
  margin-bottom: 18px !important;
  padding-bottom: 6px !important;
  border-bottom: 1px solid var(--background-modifier-border) !important;
}

.yaml-template-file-selector h3 {
  font-size: var(--h3-size) !important;
  color: var(--h3-color, var(--text-normal)) !important;
  font-weight: var(--h3-weight) !important;
  line-height: var(--h3-line-height) !important;
  margin-bottom: var(--h3-margin-bottom, 16px) !important;
}

.yaml-template-file-selector p, 
.yaml-template-file-selector span, 
.yaml-template-file-selector div {
  color: var(--text-normal);
  font-size: var(--font-text-size, 16px);
  line-height: var(--line-height-normal, 1.5);
}

.yaml-template-file-selector p.setting-item-description {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  margin-bottom: 16px;
}

/* Selection count indicator */
.yaml-template-file-selector .yaml-selected-count {
  margin: 8px 0;
  font-style: italic;
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
}

/* File tree container */
.yaml-template-file-selector .yaml-file-tree {
  margin: 12px 0;
  max-height: 400px;
  min-height: 300px;
  overflow-y: auto !important;
  overflow-x: hidden;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-sizing: border-box;
  width: 100%;
}

/* File and folder items */
.yaml-template-file-selector .yaml-file-item,
.yaml-template-file-selector .yaml-folder-item {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  position: relative;
  background-color: transparent;
  border-left: none;
  border: none;
  margin: 0;
  padding: 0;
}

/* Already selected items */
.yaml-template-file-selector .already-selected,
.yaml-template-file-selector .already-in-templates {
  background-color: rgba(var(--interactive-accent-rgb), 0.1) !important;
  border-radius: 4px;
}

/* Remove purple lines everywhere */
.yaml-template-file-selector *:before {
  display: none !important;
}

/* Header rows for files and folders */
.yaml-template-file-selector .yaml-file-tree-header {
  display: flex;
  align-items: center;
  padding: 4px 6px !important;
  border-radius: 4px !important;
  margin: 1px 0 !important;
  transition: background-color 100ms ease-in-out !important;
  width: 100%;
  border: none;
  background: transparent;
}

.yaml-template-file-selector .yaml-file-tree-header:hover {
  background-color: var(--background-modifier-hover) !important;
}

/* Custom checkbox container */
.yaml-template-file-selector .yaml-custom-checkbox-container {
  display: inline-flex;
  align-items: center;
  margin-right: 6px;
}

/* Custom checkbox element */
.yaml-template-file-selector .yaml-custom-checkbox {
  width: 16px !important;
  height: 16px !important;
  border-radius: 3px !important;
  background-color: var(--background-primary) !important;
  border: 1px solid var(--checkbox-border-color, var(--text-muted)) !important;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.1s ease;
  position: relative;
}

/* Checked state styling */
.yaml-template-file-selector .yaml-custom-checkbox.is-checked {
  background-color: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

/* Disabled checkboxes */
.yaml-template-file-selector .yaml-custom-checkbox.yaml-custom-checkbox--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Checkmark inside checkbox */
.yaml-template-file-selector .yaml-checkbox-checkmark {
  position: absolute !important;
  content: "✓" !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  line-height: 1 !important;
  width: auto !important;
  height: auto !important;
  border: none !important;
  z-index: 5 !important;
  opacity: 0;
  transition: opacity 0.1s ease;
}

.yaml-template-file-selector .yaml-custom-checkbox.is-checked .yaml-checkbox-checkmark,
.yaml-template-file-selector .yaml-checkbox-checkmark.yaml-checkbox-checkmark--visible {
  opacity: 1 !important; /* Visible when checkbox is checked */
}

.yaml-template-file-selector .yaml-custom-checkbox.is-checked::after {
  content: "✓" !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  line-height: 1 !important;
}

/* File and folder icons - UPDATED FOR EMOJIS */
.yaml-template-file-selector .yaml-file-icon, 
.yaml-template-file-selector .yaml-folder-icon {
  margin-right: 4px;
  width: 16px;
  text-align: center;
  color: var(--text-normal);
  font-size: 14px;
}

/* Hide SVG triangles since we're using emojis */
.yaml-template-file-selector .yaml-folder-icon-triangle {
  display: none !important;
}

/* Folder children container */
.yaml-template-file-selector .yaml-folder-children {
  margin-left: 16px !important;
  border-left: 1px solid var(--background-modifier-border-hover) !important;
  padding-left: 4px !important;
  margin-top: 2px !important;
  margin-bottom: 2px !important;
}

/* Collapsed state for folder children */
.yaml-template-file-selector .yaml-folder-children--collapsed {
  display: none;
}

/* Names of files and folders */
.yaml-template-file-selector .yaml-file-name, 
.yaml-template-file-selector .yaml-folder-name {
  flex: 1;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

/* Buttons */

/* Container styling */
.yaml-template-file-selector .modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
  padding-top: 8px;
  border-top: 1px solid var(--background-modifier-border);
}

/* Reset and apply exact Obsidian button styling */
.yaml-template-file-selector button {
  /* Basic button styles */
  cursor: pointer;
  border-radius: var(--button-radius);
  font-size: var(--font-ui-small);
  padding: var(--size-4-1) var(--size-4-3);
  height: var(--input-height);
  font-weight: var(--font-normal);
  
  /* Backgrounds and borders */
  background-color: var(--interactive-normal);
  color: var(--text-normal);
  box-shadow: var(--input-shadow);
  
  /* Fix any overrides */
  min-width: 0;
  transition: background-color 0.1s ease-in, box-shadow 0.1s ease-in;
}

/* Primary button style */
.yaml-template-file-selector button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* Hover states */
.yaml-template-file-selector button:hover {
  background-color: var(--interactive-hover);
  box-shadow: var(--input-shadow-hover);
}

.yaml-template-file-selector button.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}